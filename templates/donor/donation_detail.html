{% extends "base.html" %}
{% block content %}

<div class="page-header mb-4">
  <h1><i class="bi bi-droplet-fill"></i> Donation Details</h1>
</div>

<div class="container mb-5">
  <div class="card shadow-sm">
    <div class="card-body">

      <p><strong>Blood Group:</strong> {{ donation.request.blood_group }}</p>
      <p><strong>Units Donated:</strong> {{ donation.units_donated }}</p>
      <p><strong>Status:</strong>
        <span class="badge bg-success">
          {{ donation.status|title }}
        </span>
      </p>
      <p><strong>Donation Date:</strong>
        {{ donation.created_at|date:"d M Y, H:i" }}
      </p>

      <hr>

      <h6>Request Info</h6>
      <p><strong>City:</strong> {{ donation.request.city }}</p>
      <p><strong>Requester:</strong>
        {% if donation.request.hospital %}
          {{ donation.request.hospital.hospital_name }}
        {% else %}
          {% with fullname=donation.request.requested_by.get_full_name %}
            {% if fullname %}
              {{ fullname }}
            {% else %}
              {{ donation.request.requested_by.username }}
            {% endif %}
          {% endwith %}
        {% endif %}
      </p>

      <div class="mt-3">
        <a href="{% url 'donors:donor-donations' %}"
           class="btn btn-outline-secondary btn-sm">
          Back to Donations
        </a>
      </div>

    </div>
  </div>
</div>

{% endblock %}
